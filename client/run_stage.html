<template name="runStage">
<h1>RaceT<sub>i</sub>me Timing {{stage.name}}</h1>
<h3>Find Entrant</h3>
	{{>stageFindNext}}
<h3><i class="icon-road"/> Ready to start</h3>
	{{>stageReady}}
<h3><i class="icon-time"/> Running now</h3>
	{{>stageRunning}}
<h3><i class="icon-wrench"/> Confirm score</h3>
	{{>stageScore}}
<h3><i class="icon-list"/> Done</h3>
	{{>stageDone}}
</template>

<template name="stageFindNext">
<div>
	<input search="search" type="text" value="" placeholder="search" />
	{{#each pendingEntrants}}
		{{>entrantLabel this}}
	{{/each}}
</div>
</template>


<template name="stageReady">
<table>
	{{#each entrants}}
		<tr>
			<td>{{>entrantLabel this}}</td>
			<td><button class=" btn btn-danger"><i class="icon-time"/> Starting...</button></td>
			<td><button class=" btn ">UnQueue</button></td>
			<td><button class=" btn ">DNS</button></td>
			<td><button class=" btn ">Class Changed</button></td>
			<td><button class=" btn ">Notes</button></td>
		</tr>
	{{/each}}
</table>
</template>


<template name="stageRunning">
<table>
	{{#each entrants}}
		<tr>
		<td>{{>entrantLabel this}}</td>
		<td><button class=" btn btn-danger"><i class="icon-time"/>Finishing...</button></td>
		</tr>
	{{/each}}
</table>
</template>



<template name="stageDone">
<table>
	{{#each entrantScores}}
		<tr>
		<td>{{>entrantLabel entrant}}</td>
		<td>{{score.score}}</td>
		<td><span class="number badge">{{score.code}}</span></td>
		<td>
			{{#each penaltyList score.penalties}}
			<span class="number badge">{{key}} {{val}}</span>
			{{/each}}
		</td>
		<td><a><i class="icon-wrench"/></a></td>
		</tr>
	{{/each}}
</table>
</template>





<template name="stageScore">
<!-- Main editing form of stage result  -->
<ul>
	{{#each entrantScores}}
	<li>
		{{>entrantLabel entrant}}
		Cones {{score.penalties.cones}} <button class=" btn ">+</button><button class=" btn ">-</button>
		Gates {{score.penalties.gates}} <button class=" btn ">+</button><button class=" btn ">-</button>
		<select>
		<option>Ok Maybe make this a toggle button set (touch screens!)</option>
		<option>WD</option>
		<option>DNS</option>
		<option>DNF</option>
		</select>
		<textarea rows="3">{{notes}} make this collapse in some way</textarea>
		<input type="text" placeholder="Manual time overide ... SHow when no Start Stop times OR they are all struck out!">
		<table>
			<thead><td>Start</td><td>Stop</td></thead>
			<tbody></tbody>
		{{#each rawScores}}
			<tr><td>{{#if start.trashed}}<del>{{/if}}{{start.time}}{{#if start.trashed}}</del>{{/if}}</td>
			<td>{{stop.time}}</td></tr>
		{{/each}}
		</tbody>
		<tfoot>
			<tr><td>Avg time{{start.time}}</td>
			<td>Avg time{{stop.time}}</td></tr>
		</tfoot>
		</table>

		<button class=" btn btn-primary">Save</button>
	</li>
	{{/each}}
</ul>
</template>
